(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n(3),r=n.n(a),c=n(4),i=n(21),o=n(25),s=n.n(o),u=n(23),l=n(15),d=n(78),f=s.a.create({responseType:"json",withCredentials:!0,timeout:3e4,headers:{"Content-Type":"application/json","Acess-Control-Allow-Origin":"*",Accept:"application/json"}});f.interceptors.request.use((function(t){return t.headers=Object(i.a)(Object(i.a)({},t.headers),{},{Authorization:"Bearer ".concat(u.reactLocalStorage.get("token"))}),t}),(function(t){return Promise.reject(t)})),f.interceptors.response.use((function(t){return t}),function(){var t=Object(c.a)(r.a.mark((function t(e){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.config,401!==(null===(n=e.response)||void 0===n?void 0:n.status)||!a.headers){t.next=5;break}return t.next=4,s.a.post("".concat(l.a.user.url).concat(l.a.user.refresh_token),{},{headers:{Authorization:"Bearer ".concat(u.reactLocalStorage.get("refresh_token"))}}).then((function(t){var e=t.data;Object(d.setToken)(e.access_token,e.refresh_token)}));case 4:return t.abrupt("return",f.request(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},,,,,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var a=n(3),r=n.n(a),c=n(34),i=n(4),o={SET_ITEMS:"NOTIFY@SET:ITEM"},s={addNotify:function(t){var e=this;return function(){var n=Object(i.a)(r.a.mark((function n(a,i){var o,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=i(),s=o.notifications,a(e.setNotifyAction([].concat(Object(c.a)(s.items),[t])));case 2:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},deleteNotify:function(t){var e=this;return function(){var n=Object(i.a)(r.a.mark((function n(a,i){var o,s,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=i(),s=o.notifications,(u=Object(c.a)(s.items)).splice(t,1),a(e.setNotifyAction(u));case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},setNotifyAction:function(t){return{type:o.SET_ITEMS,payload:t}}}},function(t,e,n){"use strict";e.a={transactions:{url:"/api/transactions/",global:"/api/transactions/global/"},categories:{url:"/api/categories/",transactionsByCategories:"/api/categories/transactions_by_categories/"},widget:{url:"/api/widgets/",colors:"colors/"},user:{url:"/user/",auth:"auth",reg:"reg",getInfo:"info",refresh_token:"refresh"}}},function(t,e,n){t.exports={auth:"style_auth__zxVX_",auth_title:"style_auth_title__1R8OT",auth_subtitle:"style_auth_subtitle__1Pu4t",auth_description:"style_auth_description__3N9Cv",auth_field:"style_auth_field__3KZ0g",auth_form:"style_auth_form__28LgK",auth_form_errors:"style_auth_form_errors__1_lJH",auth_bottom:"style_auth_bottom__2nxIY"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(19),r=n(20),c=function(){function t(){Object(a.a)(this,t)}return Object(r.a)(t,null,[{key:"getCountDaysInMonth",value:function(t){return 32-new Date(2021,t-1,32).getDate()}},{key:"getDayOnWeek",value:function(t){return t.getDay()}}]),t}();c.monthRuNames=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],c.monthEngNames=["January","February","March","April","May","June","July","August","September","October","November","December"],c.periodTypes=["\u0414\u0435\u043d\u044c","\u041d\u0435\u0434\u0435\u043b\u044f","\u041c\u0435\u0441\u044f\u0446","\u0413\u043e\u0434"],c.dayRuNames=[{name:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",abbreviation:"\u041f\u043d"},{name:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a",abbreviation:"\u0412\u0442"},{name:"\u0421\u0440\u0435\u0434\u0430",abbreviation:"\u0421\u0440"},{name:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433",abbreviation:"\u0427\u0442"},{name:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430",abbreviation:"\u041f\u0442"},{name:"\u0421\u0443\u0431\u0431\u043e\u0442\u0430",abbreviation:"\u0421\u0431"},{name:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",abbreviation:"\u0412\u0441"}],c.dayEngNames=[{name:"Monday",abbreviation:"Mon"},{name:"Tuesday",abbreviation:"Tue"},{name:"Wednesday",abbreviation:"Wed"},{name:"Thursday",abbreviation:"Thu"},{name:"Friday",abbreviation:"Fri"},{name:"Saturday",abbreviation:"Sat"},{name:"Sunday",abbreviation:"Sun"}],c.getPrevDate=function(t,e){switch(e){case"\u0414\u0435\u043d\u044c":return t.setDate(t.getDate()-1);case"\u041d\u0435\u0434\u0435\u043b\u044f":return t.setDate(t.getDate()-7);case"\u041c\u0435\u0441\u044f\u0446":return t.setMonth(t.getMonth()-1);case"\u0413\u043e\u0434":default:return t.setFullYear(t.getFullYear()-1)}},c.getNextDate=function(t,e){switch(e){case"\u0414\u0435\u043d\u044c":return t.setDate(t.getDate()+1);case"\u041d\u0435\u0434\u0435\u043b\u044f":return t.setDate(t.getDate()+7);case"\u041c\u0435\u0441\u044f\u0446":return t.setMonth(t.getMonth()+1);case"\u0413\u043e\u0434":default:return t.setFullYear(t.getFullYear()+1)}}},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(3),r=n.n(a),c=n(4),i=n(8),o=n(7),s=n(14),u={SET_ITEMS:"CATEGORIES@SET:ITEMS",SET_ITEMS_TRANSACTIONS:"CATEGORIES@SET:ITEMS_TRANSACTIONS",LOADING:"CATEGORIES@LOADING",ERROR:"CATEGORIES@LOADING:ERROR"},l={fetchCategories:function(){var t=this;return function(){var e=Object(c.a)(r.a.mark((function e(n,a,c){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.api,o.a.get(i.categories.url).then((function(e){var a=e.data;return n(t.setCategories(a.result))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},fetchTransactionsByCategories:function(){var t=this;return function(){var e=Object(c.a)(r.a.mark((function e(n,a,c){var u,l,d,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=c.api,l=a().calendar,d=l.nowDateStamp,f=l.prevDateStamp,o.a.get(u.categories.transactionsByCategories,{params:{start_date:f,end_date:d}}).then((function(e){var a=e.data;n(t.setTransactionsByCategories(a.result))})).catch((function(e){Object(i.b)((function(){n(t.setLoading(!0)),n(s.a.addNotify({type:"error",text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}))}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},addCategory:function(t){var e=this,n=t.name,a=t.category_type;return function(){var t=Object(c.a)(r.a.mark((function t(c,i,u){var l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=u.api,o.a.post(l.categories.url,{name:n,is_income:a}).then((function(){return c(e.fetchCategories())})).catch((function(t){c(s.a.addNotify({type:"error",text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"}))}));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},setTransactionsByCategories:function(t){return{type:u.SET_ITEMS_TRANSACTIONS,payload:t}},setCategories:function(t){return{type:u.SET_ITEMS,payload:t}},setLoading:function(t){return{type:u.LOADING,payload:t}}};e.b=l},,,,,,function(t,e,n){t.exports={select:"style_select__24nQI",select_svg:"style_select_svg__3aISt",open:"style_open__13ohM",select_option:"style_select_option__37Kih",select_label:"style_select_label__1h4WW",select_options:"style_select_options__fGj3a"}},function(t,e,n){t.exports={notify:"style_notify__3qZwk",notify_close:"style_notify_close__3froJ",notify_text:"style_notify_text__3TYFB",notify__success:"style_notify__success__3nEf5",notify__warning:"style_notify__warning__2p9ox",notify__error:"style_notify__error__11lAZ"}},,function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return _})),n.d(e,"b",(function(){return j})),n.d(e,"d",(function(){return g})),n.d(e,"e",(function(){return I})),n.d(e,"a",(function(){return M}));var a=n(0),r=n.n(a),c=n(56),i=n.n(c),o=n(1),s=function(t){var e=t.children,n=t.onClick;return Object(o.jsxs)("button",{className:i.a.btn,onClick:n,children:[Object(o.jsx)("span",{className:i.a.btn_plus,children:"+"}),e]})},u=n(24),l=n(26),d=n(18),f=n.n(d),p=n(28),h=n.n(p),b=function(t){var e=t.options,n=t.onClick,a=t.onClose,c=r.a.useRef(null),i=r.a.useCallback((function(){a()}),[a]);return r.a.useEffect((function(){return document.body.addEventListener("click",i),function(){return document.body.removeEventListener("click",i)}}),[i]),Object(o.jsx)("div",{className:h.a.select_options,ref:c,children:e.map((function(t){return Object(o.jsx)("div",{onClick:function(){return n(t)},className:h.a.select_option,children:t},t)}))})},_=function(t){var e=t.options,n=t.onChange,a=r.a.useState(e[2]),c=Object(l.a)(a,2),i=c[0],s=c[1],d=r.a.useState(!1),p=Object(l.a)(d,2),_=p[0],m=p[1];return Object(o.jsxs)("div",{className:h.a.select,children:[Object(o.jsxs)("div",{className:h.a.select_label,onClick:function(){m((function(t){return!t}))},children:[Object(o.jsx)("span",{children:i}),Object(o.jsx)("span",{className:f()(h.a.select_svg,Object(u.a)({},h.a.open,_)),children:Object(o.jsx)("svg",{width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M13.7 1.7L7.7 7.7C7.5 7.9 7.3 8 7 8C6.7 8 6.5 7.9 6.3 7.7L0.3 1.7C-0.1 1.3 -0.1 0.7 0.3 0.3C0.7 -0.1 1.3 -0.1 1.7 0.3L7 5.6L12.3 0.3C12.7 -0.1 13.3 -0.1 13.7 0.3C14.1 0.7 14.1 1.3 13.7 1.7Z",fill:"#5D5FEF"})})})]}),_&&Object(o.jsx)(b,{options:e,onClick:function(t){s(t),n&&n(t)},onClose:function(){m(!1)}})]})},m=n(72),v=n.n(m),j=function(t){var e=t.children,n=t.className;return Object(o.jsx)("button",{className:f()(v.a.button,n),children:e})},y=n(51),O=n.n(y),g=function(t){var e=t.children,n=t.onClose,a=r.a.useCallback((function(t){"string"===typeof t.target.className&&t.target.className.includes("modal-wrapper")&&n()}),[n]),c=r.a.useCallback((function(t){"Escape"===t.key&&n()}),[n]);return r.a.useEffect((function(){return document.addEventListener("keydown",c),function(){return document.removeEventListener("keydown",c)}}),[c]),Object(o.jsx)("div",{className:O.a["modal-wrapper"],onClick:a,children:Object(o.jsxs)("div",{className:O.a.modal,children:[Object(o.jsx)("button",{className:O.a.modal_close,onClick:function(){n()},children:"\xd7"}),e]})})},S=n(29),T=n.n(S),x=function(t){var e,n=t.type,a=t.text,r=t.onClose;return Object(o.jsxs)("div",{className:f()(T.a.notify,(e={},Object(u.a)(e,T.a.notify__success,"success"===n),Object(u.a)(e,T.a.notify__warning,"warning"===n),Object(u.a)(e,T.a.notify__error,"error"===n),e)),children:[Object(o.jsx)("span",{className:T.a.notify_close,onClick:r,children:"\xd7"}),Object(o.jsx)("p",{className:T.a.notify_text,children:a})]})},E=n(8),N=n(43),w=n(14),k=function(){var t=Object(E.c)();return{notificationItems:Object(N.a)((function(t){return t.notifications.items})),deleteNotify:function(e){t(w.a.deleteNotify(e))},addNotify:function(e){t(w.a.addNotify(e))}}},D=n(30),C=n(73),A=n.n(C),I=function(){var t=k(),e=t.notificationItems,n=t.deleteNotify;return Object(o.jsx)("div",{className:A.a["notify-container"],children:Object(D.map)(e,(function(t,e){return Object(o.jsx)(x,{type:t.type,text:t.text,onClose:function(){n(e)}},"".concat(t.text,"_").concat(e))}))})},L=n(57),R=n.n(L),M=function(){return Object(o.jsx)("div",{className:R.a["indicator-container"],children:Object(o.jsx)("span",{className:R.a.indicator})})}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d}));var a=n(3),r=n.n(a),c=n(4),i=n(25),o=n.n(i),s=n(15),u=n(7),l={SET_USERNAME:"USER@SET:USERNAME"},d={authAction:function(t){return o.a.post("".concat(s.a.user.url).concat(s.a.user.auth),t)},regAction:function(t){return o.a.post("".concat(s.a.user.url).concat(s.a.user.reg),t)},fetchInfoAction:function(){var t=this;return function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.get("".concat(s.a.user.url).concat(s.a.user.getInfo)).then((function(e){var a=e.data;n(t.setUsername(a.username))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setUsername:function(t){return{type:l.SET_USERNAME,payload:t}}}},,,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));var a=n(34),r=n(3),c=n.n(r),i=n(4),o=n(8),s=n(22),u=n(7),l=n(14),d={SET_ITEMS:"TRANSACTIONS@SET:ITEMS",SET_GLOBAL_ITEMS:"TRANSACTIONS@SET:GLOBAL_ITEMS",LOADING:"TRANSACTIONS@LOADING:START",ERROR:"TRANSACTIONS@LOADING:ERROR"},f={fetchTransactions:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return function(){var a=Object(i.a)(c.a.mark((function a(r,i,s){var d,f,p,h;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:d=s.api,f=i().calendar,p=f.nowDateStamp,h=f.prevDateStamp,u.a.get(d.transactions.url,{params:{start_date:h,end_date:p,offset:e,limit:n}}).then((function(e){var n=e.data;r(t.setTransactions(n.result))})).catch((function(e){Object(o.b)((function(){r(t.setLoading(!0)),r(l.a.addNotify({type:"error",text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"}))}))}));case 3:case"end":return a.stop()}}),a)})));return function(t,e,n){return a.apply(this,arguments)}}()},addTransaction:function(t){var e=this,n=t.amount,r=t.date,d=t.category;return function(){var t=Object(i.a)(c.a.mark((function t(i,f,p){var h,b,_,m,v,j;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h=p.api,b=new Date(r),_=+b,m=f(),v=m.transactions,j=m.categories,u.a.post(h.transactions.url,{amount:n,transaction_date:_,category_id:d.id}).then((function(t){var r=t.data;Object(o.b)((function(){i(e.setTransactions([{id:r.id,transaction_date:_/1e3,category:j.items.find((function(t){return d.id===t.id}))||j.items[0],amount:n}].concat(Object(a.a)(v.items)))),i(s.b.fetchTransactionsByCategories()),i(e.fetchGlobalTransactions())}))})).catch((function(t){i(l.a.addNotify({type:"error",text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e"}))}));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},updateTransaction:function(t){var e=this,n=t.id,r=t.amount,l=t.date,d=t.category;return function(){var t=Object(i.a)(c.a.mark((function t(i,f,p){var h,b,_,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h=p.api,b=new Date(l),_=f(),m=_.transactions,u.a.put("".concat(h.transactions.url).concat(n,"/"),{amount:r,transaction_date:+b,category_id:d.id}).then((function(t){var r=t.data,c=Object(a.a)(m.items);m.items.forEach((function(t,e){t.id===n&&(c[e]=r.result)})),Object(o.b)((function(){i(e.setTransactions(c)),i(s.b.fetchTransactionsByCategories()),i(e.fetchGlobalTransactions())}))}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},deleteTransaction:function(t){var e=this;return function(){var n=Object(i.a)(c.a.mark((function n(a,r,i){var d,f,p;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:d=i.api,f=r(),p=f.transactions,u.a.delete("".concat(d.transactions.url).concat(t,"/")).then((function(){Object(o.b)((function(){a(e.setTransactions(p.items.filter((function(e){return e.id!==t})))),a(s.b.fetchTransactionsByCategories()),a(e.fetchGlobalTransactions())}))})).catch((function(t){a(l.a.addNotify({type:"error",text:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e"}))}));case 3:case"end":return n.stop()}}),n)})));return function(t,e,a){return n.apply(this,arguments)}}()},fetchGlobalTransactions:function(){var t=this;return function(){var e=Object(i.a)(c.a.mark((function e(n,a,r){var i,o,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.api,o=a().calendar,s=o.nowDateStamp,l=o.prevDateStamp,u.a.get(i.transactions.global,{params:{start_date:l,end_date:s}}).then((function(e){var a=e.data;n(t.setGlobalTransactions(a.result))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},setTransactions:function(t){return{type:d.SET_ITEMS,payload:t}},setGlobalTransactions:function(t){return{type:d.SET_GLOBAL_ITEMS,payload:t}},setLoading:function(t){return{type:d.LOADING,payload:t}}}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d}));var a=n(3),r=n.n(a),c=n(4),i=n(25),o=n.n(i),s=n(7),u=n(17),l={SET_ITEMS:"WIDGETS@SET:ITEMS",SET_COLORS:"WIDGETS@SET:COLORS",LOADING:"WIDGETS@LOADING:START",ERROR:"WIDGETS@LOADING:ERROR"},d={fetchWidgets:function(){var t=this;return function(){var e=Object(c.a)(r.a.mark((function e(n,a,c){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.api,o=a().calendar.nowDateStamp,s.a.get(i.widget.url,{params:{date:o}}).then((function(e){var a=e.data;return n(t.setWidgets(a.result))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},fetchWidgetColors:function(){var t=this;return function(){var e=Object(c.a)(r.a.mark((function e(n,a,c){var i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.api,s="".concat(i.widget.url).concat(i.widget.colors),o.a.get(s).then((function(e){var a=e.data;return n(t.setWidgetColor(a.result))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},addWidgetAction:function(t){var e=this;return function(){var n=Object(c.a)(r.a.mark((function n(a,c,i){var o,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=i.api,l={category_id:t.category.id,limit:t.limit,period:t.period.value,color_id:t.color.id,expire_at:u.a.getNextDate(new Date,t.period.value),is_more:t.isMore},s.a.post(o.widget.url,l).then((function(){return a(e.fetchWidgets())}));case 3:case"end":return n.stop()}}),n)})));return function(t,e,a){return n.apply(this,arguments)}}()},deleteWidgetAction:function(t){var e=this;return function(){var n=Object(c.a)(r.a.mark((function n(a,c,i){var o,u,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=i.api,u=c(),l=u.widgets,s.a.delete("".concat(o.widget.url).concat(t,"/")).then((function(){a(e.setWidgets(l.items.filter((function(e){return e.id!==t}))))}));case 3:case"end":return n.stop()}}),n)})));return function(t,e,a){return n.apply(this,arguments)}}()},setWidgets:function(t){return{type:l.SET_ITEMS,payload:t}},setWidgetColor:function(t){return{type:l.SET_COLORS,payload:t}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o}));var a={SET_DAY:"CALENDAR@SET:DAY",SET_MONTH:"CALENDAR@SET:MONTH",SET_YEAR:"CALENDAR@SET:YEAR",SET_SELECTED_OPTION:"CALENDAR@SET:SELECTED_OPTION"},r=function(t){return{type:a.SET_DAY,payload:t}},c=function(t){return{type:a.SET_MONTH,payload:t}},i=function(t){return{type:a.SET_YEAR,payload:t}},o=function(t){return{type:a.SET_SELECTED_OPTION,payload:t}}},function(t,e,n){t.exports={select:"style_select__1JzaF",select_value:"style_select_value__2D-fm",select_options:"style_select_options__2Tx-j",select_options_item:"style_select_options_item__2OxXP"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=n(8).d},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(19),r=n(20),c=function(){function t(){Object(a.a)(this,t)}return Object(r.a)(t,null,[{key:"validate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(e,n,a){var r=void 0;return t.forEach((function(t){r||(r=t.validate(e,n,a))})),r}}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(19),r=n(20),c=function(){function t(e){var n=e.msg;Object(a.a)(this,t),this.msg="",this.msg=n}return Object(r.a)(t,[{key:"validate",value:function(t,e,n){var a=t&&"string"===typeof t?t.trim():t;if((!a||null===a||""===a||void 0===a)&&(null===n||void 0===n?void 0:n.visited))return this.msg}}]),t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return b})),n.d(e,"d",(function(){return O})),n.d(e,"c",(function(){return E}));var a=n(21),r=n(79),c=n(0),i=n.n(c),o=n(18),s=n.n(o),u=n(52),l=n.n(u),d=n(1),f=function(t){var e=t.placeholder,n=t.className,c=Object(r.a)(t,["placeholder","className"]);return Object(d.jsxs)("div",{className:l.a["input-container"],children:[c.label&&Object(d.jsx)("label",{className:l.a.input_label,children:c.label}),Object(d.jsx)("input",Object(a.a)(Object(a.a)({className:s()(l.a.input,n),onChange:c.input.onChange,value:c.input.value,name:c.input.name},c.input),{},{placeholder:e}))]})},p=n(74),h=n.n(p),b=function(t){var e=t.className,n=t.fieldProps,a=i.a.useRef(null);return Object(d.jsx)("input",{className:s()(h.a.date,e),ref:a,type:"text",onChange:n.input.onChange,name:n.input.name,value:n.input.value,placeholder:"\u0414\u0430\u0442\u0430",onFocus:function(){a&&a.current&&(a.current.type="date")},onBlur:function(){a&&a.current&&(a.current.type="text")}})},_=n(26),m=n(30),v=n(42),j=n.n(v),y=function(t){var e=t.options,n=t.onClick,a=t.onClose,r=i.a.useRef(null),c=i.a.useCallback((function(){a()}),[a]);return i.a.useEffect((function(){return document.body.addEventListener("click",c),function(){return document.body.removeEventListener("click",c)}}),[c]),Object(d.jsx)("div",{className:j.a.select_options,ref:r,children:Object(m.map)(e,(function(t,e){return Object(d.jsx)("div",{onClick:function(){return n(t)},className:j.a.select_options_item,children:t.value},"".concat(t.value,"_").concat(e))}))})},O=function(t){var e=t.fieldProps,n=t.options,a=void 0===n?[]:n,r=t.placeholder,c=i.a.useState(!1),o=Object(_.a)(c,2),s=o[0],u=o[1],l=function(){u(!1)};return Object(d.jsxs)("div",{className:j.a.select,children:[Object(d.jsx)("p",{className:j.a.select_value,onClick:function(){u((function(t){return!t}))},children:e.value.value||r||a.length&&a[0].value}),s&&Object(d.jsx)(y,{onClick:function(t){e.onChange(t),l()},options:a,onClose:l})]})},g=n(27),S=n(31),T=n(53),x=n.n(T),E=function(t){var e=t.children,n=t.title,a=t.buttonText,r=t.onSubmit,c=t.onClose;return Object(d.jsx)(S.d,{onClose:c,children:Object(d.jsx)(g.b,{onSubmit:r,render:function(t){var r=t.handleSubmit,c=t.errors;return Object(d.jsxs)("form",{onSubmit:r,children:[Object(d.jsx)("h2",{className:x.a.form_title,children:n}),e,"object"===typeof c&&Object.keys(c).length>0&&Object(d.jsx)("ul",{className:x.a.form_errors,children:Object(m.map)(Object.keys(c),(function(t,e){return Object(d.jsx)("li",{children:c[t]},"".concat(t,"_").concat(e))}))}),Object(d.jsx)("button",{className:x.a.form_btn,children:a})]})}})})}},,,function(t,e,n){t.exports={modal:"style_modal__1sNdq","modal-wrapper":"style_modal-wrapper__22jWJ",modal_close:"style_modal_close__2GKuW"}},function(t,e,n){t.exports={input:"style_input__2vQF3",input_label:"style_input_label__FoSHQ"}},function(t,e,n){t.exports={form_title:"style_form_title__1R8pq",form_errors:"style_form_errors__1KvuQ",form_btn:"style_form_btn__2sLPt"}},,,function(t,e,n){t.exports={btn:"style_btn__1YbeP",btn_plus:"style_btn_plus__3OdyH"}},function(t,e,n){t.exports={indicator:"style_indicator__1ArUc","indicator-container":"style_indicator-container__3PB17",slidein:"style_slidein__1UBPD"}},,,,,,,,,,,,function(t,e,n){"use strict";var a=n(3),r=n.n(a),c=n(4),i=n(26),o=n(0),s=n.n(o),u=n(8),l=n(33),d=n(23),f=n(43);e.a=function(){var t=Object(u.c)(),e=s.a.useState(!!d.reactLocalStorage.get("token")),n=Object(i.a)(e,2),a=n[0],o=n[1],p=Object(f.a)((function(t){return t.user.username})),h=s.a.useCallback(function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l.b.authAction(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]);return{reg:s.a.useCallback(function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",l.b.regAction(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),auth:h,fetchInfo:s.a.useCallback(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(l.b.fetchInfoAction());case 1:case"end":return e.stop()}}),e)}))),[t]),username:p,loggedIn:a,setLoggedIn:o}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(19),r=n(20),c=function(){function t(e){var n=e.max,r=e.min;Object(a.a)(this,t),this.max=void 0,this.min=void 0,this.max=n,this.min=r}return Object(r.a)(t,[{key:"validate",value:function(t,e,n){var a=t&&"string"===typeof t?t.trim():t;if(null===n||void 0===n?void 0:n.visited){if(this.max&&a&&a.length>this.max.count)return this.max.msg;if(this.min&&a&&a.length<this.min.count)return this.min.msg;if(!a&&(this.min||this.max)){if(this.min)return this.min.msg;if(this.max)return this.max.msg}}}}]),t}()},,function(t,e,n){t.exports={button:"style_button__36BKB"}},function(t,e,n){t.exports={"notify-container":"style_notify-container__13tfQ"}},function(t,e,n){t.exports={date:"style_date__1dYRe"}},,,function(t,e,n){t.exports={container:"style_container__BsDYz"}},function(t,e,n){"use strict";n.r(e),n.d(e,"setToken",(function(){return S}));var a=n(21),r=n(3),c=n.n(r),i=n(4),o=(n(0),n(27)),s=n(5),u=n(36),l=n(31),d=n(48),f=n(69),p=n(23),h=n(16),b=n.n(h),_=n(46),m=n(19),v=n(20),j=function(){function t(e){var n=e.msg;Object(m.a)(this,t),this.msg="",this.template=/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/,this.msg=n}return Object(v.a)(t,[{key:"validate",value:function(t,e,n){var a=t&&"string"===typeof t?t.trim():t;if((!a||null===a||""===a||void 0===a||!t.match(this.template))&&(null===n||void 0===n?void 0:n.visited))return this.msg}}]),t}(),y=n(47),O=n(70),g=n(1),S=function(t,e){p.reactLocalStorage.set("token",t),p.reactLocalStorage.set("refresh_token",e)};e.default=function(t){var e=t.isReg,n=void 0!==e&&e,r=Object(f.a)(),h=r.reg,m=r.auth,v=r.setLoggedIn,T=r.loggedIn,x=Object(s.g)();T&&x.push("/");var E=function(){var t=Object(i.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m(e).then((function(t){var e=t.data;return S(e.access_token,e.refresh_token)})).then((function(){return v(!0)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(i.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(e).then((function(t){var e=t.data;return S(e.access_token,e.refresh_token)})).then((function(){return v(!0)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(i.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n?N:E)(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:b.a.auth,children:[Object(g.jsx)("h1",{className:b.a.auth_title,onClick:function(){return p.reactLocalStorage.clear()},children:"Pockets"}),Object(g.jsx)("h3",{className:b.a.auth_subtitle,children:n?"Adventure starts here":"Welcome to Pockets! \ud83d\udc4b\ud83c\udffb"}),Object(g.jsx)("p",{className:b.a.auth_description,children:n?"Make your app management easy and fun!":"Please sign-in to your account and start the adventure"}),Object(g.jsx)(o.b,{onSubmit:w,render:function(t){var e=t.handleSubmit,r=t.errors;return Object(g.jsxs)("form",{onSubmit:e,className:b.a.auth_form,children:["object"===typeof r&&Object(g.jsx)("ul",{className:b.a.auth_form_errors,children:Object.values(r).map((function(t){return Object(g.jsx)("li",{className:b.a.auth_form_errors_item,children:t})}))}),n&&Object(g.jsx)("div",{className:b.a.auth_field,children:Object(g.jsx)(o.a,{name:"username",label:"Usermame",render:function(t){return Object(g.jsx)(d.b,Object(a.a)({placeholder:"John Doe"},t))},validate:_.a.validate([new y.a({msg:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),new O.a({min:{count:4,msg:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 4"}})])})}),Object(g.jsx)("div",{className:b.a.auth_field,children:Object(g.jsx)(o.a,{name:"email",label:"Email",render:function(t){return Object(g.jsx)(d.b,Object(a.a)({placeholder:"johndoe@gmail.com"},t))},validate:_.a.validate([new y.a({msg:"Email \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),new j({msg:"Email \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435 \u0432\u0435\u0440\u043d\u043e"})])})}),Object(g.jsx)("div",{className:b.a.auth_field,children:Object(g.jsx)(o.a,{name:"password",type:"password",label:"Password",render:function(t){return Object(g.jsx)(d.b,Object(a.a)({placeholder:"\u2689 \u2689 \u2689 \u2689 \u2689 \u2689 \u2689 \u2689"},t))},validate:_.a.validate([new y.a({msg:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})])})}),Object(g.jsx)(l.b,{children:"Login"})]})}}),Object(g.jsxs)("div",{className:b.a.auth_bottom,children:[Object(g.jsx)("p",{children:n?"Already have an account?":"New on our platform?"}),n?Object(g.jsx)(u.b,{to:"/auth",children:"Sign in instead"}):Object(g.jsx)(u.b,{to:"/reg",children:"Create an account"})]})]})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(49),i=n.n(c),o=n(8),s=n(36),u=n(35),l=n(76),d=n(15),f=n(13),p=n(38),h={items:[],globalItems:[],isLoaded:!1,error:[]},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;return Object(f.a)(t,(function(t){switch(e.type){case p.b.SET_ITEMS:t.items=e.payload,t.isLoaded=!0;break;case p.b.SET_GLOBAL_ITEMS:t.globalItems=e.payload;break;case p.b.LOADING:t.isLoaded=e.payload;break;case p.b.ERROR:t.isLoaded=!1,t.error=e.payload}}))},_=n(40),m={items:[],colors:[],isLoaded:!1,error:[]},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;return Object(f.a)(t,(function(t){switch(e.type){case _.a.SET_ITEMS:t.items=e.payload,t.isLoaded=!0;break;case _.a.SET_COLORS:t.colors=e.payload;break;case _.a.LOADING:t.isLoaded=!0;break;case _.a.ERROR:t.isLoaded=!1,t.error=e.payload}}))},j=n(22),y={items:[],itemsTransactions:[],isLoaded:!1,error:[]},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;return Object(f.a)(t,(function(t){switch(e.type){case j.a.SET_ITEMS:t.items=e.payload,t.isLoaded=!0;break;case j.a.SET_ITEMS_TRANSACTIONS:t.itemsTransactions=e.payload,t.isLoaded=!0;break;case j.a.LOADING:t.isLoaded=e.payload;break;case j.a.ERROR:t.isLoaded=!0,t.error=e.payload}}))},g=n(14),S={items:[]},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;return Object(f.a)(t,(function(t){switch(e.type){case g.b.SET_ITEMS:t.items=e.payload}}))},x=n(17),E=n(41),N=new Date,w=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},k={selectedDay:N.getDate(),selectedMonth:N.getMonth(),selectedYear:N.getFullYear(),options:x.a.periodTypes,selectedOption:x.a.periodTypes[2],nowDateStamp:+w(N),prevDateStamp:x.a.getPrevDate(w(N),x.a.periodTypes[2])},D=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;return Object(f.a)(e,(function(e){switch(n.type){case E.a.SET_DAY:e.selectedDay=n.payload,t=w(new Date(e.selectedYear,e.selectedMonth,n.payload)),e.nowDateStamp=+t,e.prevDateStamp=x.a.getPrevDate(t,e.selectedOption);break;case E.a.SET_MONTH:e.selectedMonth=n.payload,t=w(new Date(e.selectedYear,n.payload,e.selectedDay)),e.nowDateStamp=+t,e.prevDateStamp=x.a.getPrevDate(t,e.selectedOption);break;case E.a.SET_YEAR:e.selectedYear=n.payload,t=w(new Date(n.payload,e.selectedMonth,e.selectedDay)),e.nowDateStamp=+t,e.prevDateStamp=x.a.getPrevDate(t,e.selectedOption);break;case E.a.SET_SELECTED_OPTION:e.selectedOption=n.payload,t=w(new Date(e.selectedYear,e.selectedMonth,e.selectedDay)),e.nowDateStamp=+t,e.prevDateStamp=x.a.getPrevDate(t,n.payload)}}))},C=n(33),A={username:null},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;return Object(f.a)(t,(function(t){switch(e.type){case C.a.SET_USERNAME:t.username=e.payload}}))},L=Object(u.b)({transactions:b,widgets:v,categories:O,notifications:T,user:I,calendar:D}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c,M=[l.a.withExtraArgument({api:d.a})],G=Object(u.d)(L,R(u.a.apply(void 0,M))),P=n(5),Y=n(31),B=n(77),W=n.n(B),F=n(1),z=r.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,179))})),U=r.a.lazy((function(){return Promise.resolve().then(n.bind(null,78))})),J=function(){return Object(F.jsxs)("div",{className:W.a.container,children:[Object(F.jsx)(Y.e,{}),Object(F.jsxs)(P.d,{children:[Object(F.jsx)(P.b,{path:"/auth",children:Object(F.jsx)(r.a.Suspense,{fallback:Object(F.jsx)("div",{children:"Loading..."}),children:Object(F.jsx)(U,{isReg:!1})})}),Object(F.jsx)(P.b,{path:"/reg",children:Object(F.jsx)(r.a.Suspense,{fallback:Object(F.jsx)("div",{children:"Loading..."}),children:Object(F.jsx)(U,{isReg:!0})})}),Object(F.jsx)(P.b,{path:"/",exact:!0,children:Object(F.jsx)(r.a.Suspense,{fallback:Object(F.jsx)("div",{children:"Loading..."}),children:Object(F.jsx)(z,{})})})]})]})};i.a.render(Object(F.jsx)(o.a,{store:G,children:Object(F.jsx)(s.a,{children:Object(F.jsx)(J,{})})}),document.getElementById("root"))}],[[110,1,2]]]);
//# sourceMappingURL=main.8c287e9e.chunk.js.map